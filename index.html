<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>101 æ”€çˆ¬è€… | ç¶²é ç‰ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: #020617; margin: 0; overflow: hidden; font-family: sans-serif; }
        #game-container { position: relative; width: 100%; max-width: 400px; height: 100vh; margin: 0 auto; background: #0f172a; }
        canvas { display: block; width: 100%; height: 100%; }
    </style>
</head>
<body>
<div id="game-container">
    <div id="ui" class="absolute top-4 left-4 z-10 hidden">
        <div class="bg-teal-950/80 p-4 rounded-xl border border-teal-800 w-60">
            <div class="text-xs text-teal-400 font-bold">é«˜åº¦: <span id="floor">0</span>/101F</div>
            <div class="text-[10px] text-sky-400 mt-2">é«”åŠ›: <span id="stamina-text">100</span>%</div>
            <div class="w-full bg-slate-900 h-2 rounded-full mt-1 overflow-hidden">
                <div id="stamina-bar" class="h-full bg-sky-500" style="width: 100%"></div>
            </div>
        </div>
    </div>
    <canvas id="c"></canvas>
    <div id="menu" class="absolute inset-0 flex flex-col items-center justify-center bg-slate-950/90 p-8 text-center">
        <div class="text-6xl mb-4">ğŸ§—</div>
        <h1 class="text-4xl font-black mb-6 text-teal-400 italic">101 æ”€çˆ¬è€…</h1>
        <button id="startBtn" class="bg-orange-500 text-white px-12 py-4 rounded-xl font-bold text-xl shadow-lg">é–‹å§‹æ”€ç™»</button>
        <div id="klook-ad" class="mt-8 hidden p-4 border border-teal-800 rounded-lg">
            <p class="text-xs text-slate-400 mb-2">æŒ‘æˆ°å¤±æ•—ï¼Ÿä¾†å ´çœŸçš„æ”€å²©å§ï¼</p>
            <button onclick="window.open('https://www.klook.com/zh-TW/search?query=æ”€å²©&aid=ä½ çš„AID')" class="bg-teal-600 text-white px-4 py-2 rounded font-bold text-sm">ğŸŸï¸ Klook æ”€å²©å„ªæƒ </button>
        </div>
    </div>
</div>

<script>
// é€™æ®µ JavaScript å·²ç¶“æŠŠé‚è¼¯å¯«æ­»åœ¨è£¡é¢ï¼Œä¸éœ€ä¾è³´ React
const canvas = document.getElementById('c'), ctx = canvas.getContext('2d');
let gameActive = false, stamina = 100, floor = 0, playerY = 50;

document.getElementById('startBtn').addEventListener('click', () => {
    gameActive = true;
    document.getElementById('menu').classList.add('hidden');
    document.getElementById('ui').classList.remove('hidden');
    loop();
});

function loop() {
    if (!gameActive) return;
    // ç°¡å–®çš„æ©Ÿåˆ¶æ¸¬è©¦ï¼šæ¨¡æ“¬æ”€çˆ¬
    stamina -= 0.1;
    playerY += 1;
    floor = Math.floor(playerY / 10);
    
    // æ›´æ–°ä»‹é¢
    document.getElementById('floor').innerText = floor;
    document.getElementById('stamina-bar').style.width = stamina + '%';
    
    // ç¹ªåœ–
    ctx.fillStyle = '#0f172a'; ctx.fillRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle = '#0ea5e9'; ctx.fillRect(180, canvas.height - 100, 40, 60); // è—è‰²æ–¹å¡Šä¸»è§’
    
    if (stamina <= 0) {
        gameActive = false;
        document.getElementById('menu').classList.remove('hidden');
        document.getElementById('klook-ad').classList.remove('hidden');
        document.getElementById('startBtn').innerText = 'å†æ¬¡æŒ‘æˆ°';
    } else {
        requestAnimationFrame(loop);
    }
}
canvas.width = 400; canvas.height = window.innerHeight;
</script>
</body>
</html>
